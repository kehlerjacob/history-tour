<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Step-by-Step Navigation Panel</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Custom styles for a clean, full-screen look */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            overflow: hidden; /* Prevent body scroll */
        }
        /* Define a container that takes up the remaining screen space above the nav bar */
        #map-area {
            height: calc(100vh - 12rem); /* Calculate height: full viewport height minus the nav bar's height (approx 12rem) */
            transition: height 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">

    <!-- Simulated Map Area -->
    <div id="map-area" class="bg-gray-700 flex items-center justify-center text-white text-3xl font-bold p-8">
        <div class="text-center opacity-70">
            <i data-lucide="map-pin" class="w-12 h-12 mx-auto mb-2"></i>
            <p>Simulated Map View</p>
            <p class="text-sm font-normal mt-2">(Navigation starts below)</p>
        </div>
    </div>

    <!-- Green Navigation Panel (Fixed to Bottom) -->
    <div id="navigation-panel" class="fixed inset-x-0 bottom-0 bg-green-600 text-white p-4 sm:p-6 shadow-2xl rounded-t-3xl transition-all duration-300 h-48">
        <div class="max-w-xl mx-auto flex flex-col h-full">

            <!-- Current Step Display -->
            <div class="flex items-center space-x-3 mb-2">
                <i data-lucide="play" class="w-6 h-6 flex-shrink-0"></i>
                <h2 id="current-step" class="text-xl sm:text-2xl font-semibold truncate"></h2>
            </div>
            
            <!-- Next Steps & Progress -->
            <div class="flex justify-between items-end mt-1 mb-4">
                <p id="next-step-info" class="text-sm opacity-90"></p>
                <p id="step-counter" class="text-sm font-medium opacity-80 flex-shrink-0"></p>
            </div>

            <!-- Action Button -->
            <div class="flex-grow flex items-end">
                <button id="next-button" class="w-full bg-white text-green-700 font-bold py-3 px-6 rounded-full shadow-lg hover:bg-gray-200 transition duration-150 transform hover:scale-[1.01] focus:outline-none focus:ring-4 focus:ring-green-400 disabled:opacity-50 disabled:cursor-not-allowed">
                    Next Step
                </button>
            </div>
        </div>
    </div>

    <script>
        // Use a robust list of mock steps
        const navigationSteps = [
            "Start: Proceed 20 meters, heading North towards the park entrance.",
            "Head North-West for 100ft and turn left onto 'Example Street'.",
            "Continue straight on Example Street for 0.5 miles until you reach the traffic circle.",
            "At the traffic circle, take the 2nd exit onto 'Highway 99'.",
            "Drive for 2.1 miles. Prepare to merge onto the freeway.",
            "Merge right onto the I-5 North ramp.",
            "Exit at 'River Road' (Exit 42).",
            "Turn right onto 'River Road' and continue for 300 feet.",
            "Destination: Your arrival point is on the left (look for the yellow building)."
        ];

        let currentStepIndex = 0;
        const currentStepEl = document.getElementById('current-step');
        const nextStepInfoEl = document.getElementById('next-step-info');
        const stepCounterEl = document.getElementById('step-counter');
        const nextButton = document.getElementById('next-button');

        // Function to update the UI with the current navigation state
        function updateNavigationUI() {
            const totalSteps = navigationSteps.length;
            
            // Handle completion state
            if (currentStepIndex >= totalSteps) {
                currentStepEl.textContent = "Route Completed! You have arrived.";
                nextStepInfoEl.textContent = "Safe travels!";
                stepCounterEl.textContent = `Step ${totalSteps} of ${totalSteps}`;
                nextButton.textContent = "Finished";
                nextButton.disabled = true;
                nextButton.classList.remove('bg-white', 'text-green-700');
                nextButton.classList.add('bg-gray-400', 'text-gray-700');
                return;
            }

            // Update current instruction
            currentStepEl.textContent = navigationSteps[currentStepIndex];

            // Update next step information
            const nextIndex = currentStepIndex + 1;
            if (nextIndex < totalSteps) {
                const nextStepInstruction = navigationSteps[nextIndex];
                // Show a truncated hint of the next step
                nextStepInfoEl.textContent = `Next: ${nextStepInstruction.substring(0, 50)}...`;
            } else {
                nextStepInfoEl.textContent = "This is the final step before arrival.";
            }

            // Update step counter
            stepCounterEl.textContent = `Step ${currentStepIndex + 1} of ${totalSteps}`;
            
            // Ensure button is active for intermediate steps
            if (nextIndex < totalSteps) {
                 nextButton.textContent = "Next Step";
                 nextButton.disabled = false;
                 nextButton.classList.remove('bg-gray-400', 'text-gray-700');
                 nextButton.classList.add('bg-white', 'text-green-700');
            } else {
                 // Final step advances to completion state
                 nextButton.textContent = "Complete Route";
            }
        }

        // Event listener for the "Next Step" button
        nextButton.addEventListener('click', () => {
            if (currentStepIndex < navigationSteps.length) {
                currentStepIndex++;
                updateNavigationUI();
            }
        });

        // Initialize the UI on load
        window.onload = () => {
            lucide.createIcons(); // Initialize Lucide icons
            updateNavigationUI();
        };

        // Handle the case where the screen resizes or the nav panel height changes
        // This is necessary to keep the 'map-area' fill the space above the fixed panel
        function updateMapHeight() {
            const panelHeight = document.getElementById('navigation-panel').offsetHeight;
            document.getElementById('map-area').style.height = `calc(100vh - ${panelHeight}px)`;
        }

        // Add listeners for initial load and resize events
        window.addEventListener('load', updateMapHeight);
        window.addEventListener('resize', updateMapHeight);

    </script>
</body>
</html>
